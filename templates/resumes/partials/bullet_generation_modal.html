{% comment %}
This is a partial template for the bullet generation modal form
Save as 'resumes/partials/bullet_generation_modal.html'
{% endcomment %}

<div id="bullet-generation-modal" class="modal">
  <div class="modal-box max-w-2xl">
    <h3 class="font-bold text-lg flex items-center">
      <i class="fa-solid fa-wand-magic-sparkles text-primary mr-2"></i>
      AI Generate Bullet Points
    </h3>
    <p class="py-2 text-sm text-gray-600">
      Provide details to generate ATS-optimized bullet points tailored to your experience
    </p>

    <form id="bullet-generation-form" hx-get="{% url 'job_portal:ai_generate_bullets' %}"
          hx-target="#bullet_points_container_{{ parent_index }}"
          hx-swap="innerHTML"
          hx-indicator="#bullet_ai_indicator_{{ parent_index }}">

      <input type="hidden" name="parent_index" value="{{ parent_index }}">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
        <!-- Current Job Title -->
        <div class="form-control">
          <label class="label">
            <span class="label-text font-medium">Current Job Title</span>
            <span class="label-text-alt text-error">*</span>
          </label>
          <input type="text" name="job_title" id="job_title_modal" required
                 value="{{ job_title }}"
                 class="input input-bordered w-full focus:border-primary">
        </div>

        <!-- Target Job Title -->
        <div class="form-control">
          <label class="label">
            <span class="label-text font-medium">Target Job Title</span>
            <span class="label-text-alt text-error">*</span>
          </label>
          <input type="text" name="target_job_title" required
                 class="input input-bordered w-full focus:border-primary"
                 placeholder="e.g., Senior Software Engineer">
        </div>
      </div>

      <!-- Company Name -->
      <div class="form-control mt-2">
        <label class="label">
          <span class="label-text font-medium">Company Name</span>
          <span class="label-text-alt text-error">*</span>
        </label>
        <input type="text" name="employer" id="employer_modal" required
               value="{{ employer }}"
               class="input input-bordered w-full focus:border-primary">
      </div>

      <!-- Number of Bullet Points -->
      <div class="form-control mt-2">
        <label class="label">
          <span class="label-text font-medium">Number of Bullet Points</span>
        </label>
        <div class="flex items-center space-x-4">
          <input type="range" name="bullet_count" id="bullet_count_slider"
                 min="1" max="5" value="3" class="range range-primary"
                 oninput="document.getElementById('bullet_count_value').innerText = this.value">
          <span id="bullet_count_value" class="px-2 py-1 bg-primary text-white rounded-md">3</span>
        </div>
      </div>

      <!-- Key Skills -->
      <div class="form-control mt-2">
        <label class="label">
          <span class="label-text font-medium">Key Skills (at least 5)</span>
          <span class="label-text-alt text-error">*</span>
        </label>
        <textarea name="skills" class="textarea textarea-bordered min-h-20" required
                  placeholder="Enter at least 5 skills separated by commas (e.g., Python, Project Management, Data Analysis, JavaScript, AWS)"></textarea>
        <p class="text-xs text-gray-500 mt-1">These skills will be incorporated into your bullet points</p>
      </div>

      <!-- Job Responsibilities -->
      <div class="form-control mt-2">
        <label class="label">
          <span class="label-text font-medium">Key Responsibilities/Achievements</span>
          <span class="label-text-alt text-gray-500">(Optional)</span>
        </label>
        <textarea name="responsibilities" class="textarea textarea-bordered min-h-20"
                  placeholder="Briefly describe your main responsibilities and achievements in this role"></textarea>
      </div>

      <!-- AI Model Selection -->
      <div class="form-control mt-4">
        <label class="label">
          <span class="label-text font-medium">AI Model</span>
        </label>
        <div class="flex gap-4">
          <label class="cursor-pointer flex items-center gap-2">
            <input type="radio" name="ai_engine" value="chatgpt" class="radio radio-primary" checked>
            <span class="label-text">ChatGPT</span>
          </label>
          <label class="cursor-pointer flex items-center gap-2">
            <input type="radio" name="ai_engine" value="gemini" class="radio radio-primary">
            <span class="label-text">Gemini</span>
          </label>
        </div>
      </div>

      <div class="modal-action mt-6">
        <button type="button" onclick="closeModal('bullet-generation-modal')" class="btn btn-outline">Cancel</button>
        <button type="submit" class="btn btn-primary" onclick="closeModal('bullet-generation-modal')">
          <i class="fa-solid fa-magic mr-2"></i> Generate Bullet Points
        </button>
      </div>
    </form>
  </div>
  <label class="modal-backdrop" for="bullet-generation-modal" onclick="closeModal('bullet-generation-modal')"></label>
</div>

{#{% comment %}#}
{#This is a partial template for the bullet generation modal form#}
{#Save as 'resumes/partials/bullet_generation_modal.html'#}
{#{% endcomment %}#}
{##}
{#<div id="bullet-generation-modal" class="modal">#}
{#  <div class="modal-box max-w-2xl">#}
{#    <h3 class="font-bold text-lg flex items-center">#}
{#      <i class="fa-solid fa-wand-magic-sparkles text-primary mr-2"></i>#}
{#      AI Generate Bullet Points#}
{#    </h3>#}
{#    <p class="py-2 text-sm text-gray-600">#}
{#      Provide details to generate ATS-optimized bullet points tailored to your experience#}
{#    </p>#}
{##}
{#    <form id="bullet-generation-form" hx-get="{% url 'job_portal:ai_generate_bullets' %}"#}
{#          hx-target="#bullet_points_container_{{ parent_index }}"#}
{#          hx-swap="innerHTML"#}
{#          hx-indicator="#bullet_ai_indicator_{{ parent_index }}">#}
{##}
{#      <input type="hidden" name="parent_index" value="{{ parent_index }}">#}
{##}
{#      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">#}
{#        <!-- Current Job Title -->#}
{#        <div class="form-control">#}
{#          <label class="label">#}
{#            <span class="label-text font-medium">Current Job Title</span>#}
{#            <span class="label-text-alt text-error">*</span>#}
{#          </label>#}
{#          <input type="text" name="job_title" id="job_title_modal" required#}
{#                 value="{{ job_title }}"#}
{#                 class="input input-bordered w-full focus:border-primary">#}
{#        </div>#}
{##}
{#        <!-- Target Job Title -->#}
{#        <div class="form-control">#}
{#          <label class="label">#}
{#            <span class="label-text font-medium">Target Job Title</span>#}
{#            <span class="label-text-alt text-error">*</span>#}
{#          </label>#}
{#          <input type="text" name="target_job_title" required#}
{#                 class="input input-bordered w-full focus:border-primary"#}
{#                 placeholder="e.g., Senior Software Engineer">#}
{#        </div>#}
{#      </div>#}
{##}
{#      <!-- Company Name -->#}
{#      <div class="form-control mt-2">#}
{#        <label class="label">#}
{#          <span class="label-text font-medium">Company Name</span>#}
{#          <span class="label-text-alt text-error">*</span>#}
{#        </label>#}
{#        <input type="text" name="employer" id="employer_modal" required#}
{#               value="{{ employer }}"#}
{#               class="input input-bordered w-full focus:border-primary">#}
{#      </div>#}
{##}
{#      <!-- Key Skills -->#}
{#      <div class="form-control mt-2">#}
{#        <label class="label">#}
{#          <span class="label-text font-medium">Key Skills (at least 5)</span>#}
{#          <span class="label-text-alt text-error">*</span>#}
{#        </label>#}
{#        <textarea name="skills" class="textarea textarea-bordered min-h-20" required#}
{#                  placeholder="Enter at least 5 skills separated by commas (e.g., Python, Project Management, Data Analysis, JavaScript, AWS)"></textarea>#}
{#        <p class="text-xs text-gray-500 mt-1">These skills will be incorporated into your bullet points</p>#}
{#      </div>#}
{##}
{#      <!-- Job Responsibilities -->#}
{#      <div class="form-control mt-2">#}
{#        <label class="label">#}
{#          <span class="label-text font-medium">Key Responsibilities/Achievements</span>#}
{#          <span class="label-text-alt text-gray-500">(Optional)</span>#}
{#        </label>#}
{#        <textarea name="responsibilities" class="textarea textarea-bordered min-h-20"#}
{#                  placeholder="Briefly describe your main responsibilities and achievements in this role"></textarea>#}
{#      </div>#}
{##}
{#      <!-- AI Model Selection -->#}
{#      <div class="form-control mt-4">#}
{#        <label class="label">#}
{#          <span class="label-text font-medium">AI Model</span>#}
{#        </label>#}
{#        <div class="flex gap-4">#}
{#          <label class="cursor-pointer flex items-center gap-2">#}
{#            <input type="radio" name="ai_engine" value="chatgpt" class="radio radio-primary" checked>#}
{#            <span class="label-text">ChatGPT</span>#}
{#          </label>#}
{#          <label class="cursor-pointer flex items-center gap-2">#}
{#            <input type="radio" name="ai_engine" value="gemini" class="radio radio-primary">#}
{#            <span class="label-text">Gemini</span>#}
{#          </label>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="modal-action mt-6">#}
{#        <button type="button" onclick="closeModal('bullet-generation-modal')" class="btn btn-outline">Cancel</button>#}
{#        <button type="submit" class="btn btn-primary" onclick="closeModal('bullet-generation-modal')">#}
{#          <i class="fa-solid fa-magic mr-2"></i> Generate Bullet Points#}
{#        </button>#}
{#      </div>#}
{#    </form>#}
{#  </div>#}
{#  <label class="modal-backdrop" for="bullet-generation-modal" onclick="closeModal('bullet-generation-modal')"></label>#}
{#</div>#}